import matplotlib.pyplot as plt
plt.set_cmap("gray")
import cv2
im = cv2.imread("puppy.jpeg")                     #input image
im = cv2.cvtColor(im,cv2.COLOR_BGR2GRAY)
plt.imshow(im)
plt.show()                                        #displaying the input image
rim = im.copy()
def compute(im,i,j):
    sum = 0
    for r in range(i-1,i+2):                      #3x3 masking
        for c in range(j-1,j+2):
            sum = sum + im[r][c]
    avg = sum / 9                                 #calculating the average, dividing by 9 because of 3x3 masking
    return avg
h, w = im.shape[0:2]
for i in range(1,h-1):                            #ignore first and last rows and columns because of 3x3 masking
    for j in range(1,w-1):
        rim[i,j] = compute(im,i,j)
plt.imshow(rim)
plt.show()                                        #display the result image
